<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CareerBridge Pro - Professional Job Platform | Nodinopro (Pty) Ltd</title
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- PWA Requirements -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#1e40af">
    <link rel="icon" type="image/png" href="icon-192.png">
    <link rel="apple-touch-icon" href="icon-192.png">
    <meta name="description" content="CareerBridge Pro - South Africa's leading job platform connecting professionals with top employers. Powered by Nodinopro (Pty) Ltd.">
    <meta name="keywords" content="jobs, career, employment, South Africa, recruitment, hiring, professionals">
    
    <!-- Open Graph for Social Media -->
    <meta property="og:title" content="CareerBridge Pro - Find Your Dream Job">
    <meta property="og:description" content="Connect with top employers across South Africa">
    <meta property="og:image" content="https://careerbridgepro.co.za/og-image.jpg">
    <meta property="og:url" content="https://careerbridgepro.co.za">
    <meta property="og:type" content="website">
    
    <style>
        /* ====== BASE STYLES ====== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary: #1e40af;
            --primary-dark: #1e3a8a;
            --secondary: #f59e0b;
            --accent: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --success: #10b981;
            --dark: #1e293b;
            --light: #f8fafc;
            --gray: #64748b;
            --border: #e2e8f0;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background: var(--light);
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* ====== TYPOGRAPHY ====== */
        h1 { font-size: 3.5rem; font-weight: 800; }
        h2 { font-size: 2.5rem; font-weight: 700; }
        h3 { font-size: 1.875rem; font-weight: 600; }
        h4 { font-size: 1.5rem; font-weight: 600; }
        h5 { font-size: 1.25rem; font-weight: 600; }
        h6 { font-size: 1rem; font-weight: 600; }
        
        .text-gradient {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* ====== BUTTONS ====== */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 12px 28px;
            border-radius: 10px;
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 16px;
            position: relative;
            overflow: hidden;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        .btn:hover::before {
            left: 100%;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            box-shadow: var(--shadow);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }
        
        .btn-secondary {
            background: var(--secondary);
            color: var(--dark);
        }
        
        .btn-success {
            background: var(--success);
            color: white;
        }
        
        .btn-outline {
            background: transparent;
            color: var(--primary);
            border-color: var(--primary);
        }
        
        .btn-outline:hover {
            background: var(--primary);
            color: white;
        }
        
        .btn-lg {
            padding: 16px 32px;
            font-size: 18px;
        }
        
        .btn-block {
            width: 100%;
        }
        
        /* ====== NAVIGATION ====== */
        .navbar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid var(--border);
        }
        
        .navbar .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            font-size: 28px;
            font-weight: 800;
            color: var(--dark);
        }
        
        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 20px;
        }
        
        .nav-links {
            display: flex;
            gap: 32px;
        }
        
        .nav-link {
            text-decoration: none;
            color: var(--gray);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 0;
            position: relative;
        }
        
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary);
            transition: width 0.3s;
        }
        
        .nav-link:hover::after,
        .nav-link.active::after {
            width: 100%;
        }
        
        .nav-link:hover,
        .nav-link.active {
            color: var(--primary);
        }
        
        /* ====== HERO SECTION ====== */
        .hero {
            background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
            color: white;
            padding: 120px 0 80px;
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: float 20s linear infinite;
        }
        
        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); }
            100% { transform: translate(-50px, -50px) rotate(360deg); }
        }
        
        .hero-content {
            position: relative;
            z-index: 1;
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .hero-title {
            margin-bottom: 24px;
            line-height: 1.2;
        }
        
        .hero-subtitle {
            font-size: 1.25rem;
            opacity: 0.9;
            margin-bottom: 48px;
            line-height: 1.6;
        }
        
        /* ====== SEARCH ====== */
        .search-wrapper {
            background: white;
            padding: 24px;
            border-radius: 16px;
            box-shadow: var(--shadow-lg);
            margin-bottom: 40px;
            position: relative;
            z-index: 2;
        }
        
        .search-grid {
            display: grid;
            grid-template-columns: 3fr 2fr 1.5fr 1fr;
            gap: 16px;
        }
        
        .search-group {
            position: relative;
        }
        
        .search-icon {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
        }
        
        .search-input, .search-select {
            width: 100%;
            padding: 16px 16px 16px 48px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .search-input:focus, .search-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(30, 64, 175, 0.1);
        }
        
        /* ====== FEATURES ====== */
        .features {
            padding: 100px 0;
            background: white;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 32px;
            margin-top: 48px;
        }
        
        .feature-card {
            background: var(--light);
            padding: 40px 32px;
            border-radius: 16px;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
            border: 1px solid var(--border);
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary);
        }
        
        .feature-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 24px;
            color: white;
            font-size: 32px;
        }
        
        /* ====== JOBS ====== */
        .jobs-section {
            padding: 100px 0;
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 48px;
        }
        
        .view-all {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .jobs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 24px;
            margin-bottom: 48px;
        }
        
        .job-card {
            background: white;
            border-radius: 16px;
            padding: 32px;
            box-shadow: var(--shadow);
            transition: all 0.3s;
            border: 1px solid var(--border);
            position: relative;
        }
        
        .job-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary);
        }
        
        .job-badge {
            position: absolute;
            top: 16px;
            right: 16px;
            background: var(--accent);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .job-salary {
            color: var(--success);
            font-weight: 700;
            font-size: 18px;
        }
        
        .job-meta {
            display: flex;
            gap: 12px;
            margin: 16px 0;
            flex-wrap: wrap;
        }
        
        .job-tag {
            background: var(--light);
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 14px;
            color: var(--gray);
        }
        
        /* ====== AI FEATURES ====== */
        .ai-section {
            padding: 100px 0;
            background: linear-gradient(135deg, var(--dark), #0f172a);
            color: white;
        }
        
        .ai-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 32px;
            margin-top: 48px;
        }
        
        .ai-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 32px;
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s;
        }
        
        .ai-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent);
        }
        
        /* ====== DASHBOARD ====== */
        .dashboard {
            min-height: 100vh;
            background: var(--light);
        }
        
        .dashboard-layout {
            display: grid;
            grid-template-columns: 280px 1fr;
            min-height: 100vh;
        }
        
        .sidebar {
            background: white;
            border-right: 1px solid var(--border);
            padding: 32px 0;
        }
        
        .sidebar-header {
            padding: 0 24px 32px;
            border-bottom: 1px solid var(--border);
        }
        
        .user-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 32px;
            font-weight: bold;
        }
        
        .sidebar-nav {
            padding: 24px;
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px;
            color: var(--gray);
            text-decoration: none;
            border-radius: 10px;
            margin-bottom: 8px;
            transition: all 0.3s;
        }
        
        .nav-item:hover,
        .nav-item.active {
            background: var(--primary);
            color: white;
        }
        
        .main-content {
            padding: 32px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }
        
        .stat-card {
            background: white;
            padding: 24px;
            border-radius: 12px;
            box-shadow: var(--shadow);
        }
        
        /* ====== FORMS ====== */
        .form-group {
            margin-bottom: 24px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark);
        }
        
        .form-control {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(30, 64, 175, 0.1);
        }
        
        /* ====== MODALS ====== */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .modal-content {
            background: white;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            animation: slideUp 0.3s ease;
        }
        
        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .modal-header {
            padding: 32px 32px 24px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-body {
            padding: 32px;
        }
        
        .modal-footer {
            padding: 24px 32px;
            border-top: 1px solid var(--border);
            display: flex;
            gap: 16px;
            justify-content: flex-end;
        }
        
        /* ====== NOTIFICATIONS ====== */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: var(--shadow-lg);
            display: flex;
            align-items: center;
            gap: 16px;
            z-index: 3000;
            animation: slideInRight 0.3s ease;
            max-width: 400px;
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .notification.success { border-left: 4px solid var(--success); }
        .notification.error { border-left: 4px solid var(--danger); }
        .notification.warning { border-left: 4px solid var(--warning); }
        .notification.info { border-left: 4px solid var(--primary); }
        
        /* ====== FOOTER ====== */
        .footer {
            background: var(--dark);
            color: white;
            padding: 80px 0 40px;
        }
        
        .footer-grid {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 48px;
            margin-bottom: 48px;
        }
        
        .footer-col h3 {
            font-size: 18px;
            margin-bottom: 24px;
            color: white;
        }
        
        .footer-col ul {
            list-style: none;
        }
        
        .footer-col li {
            margin-bottom: 12px;
        }
        
        .footer-col a {
            color: #cbd5e1;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-col a:hover {
            color: white;
        }
        
        .footer-bottom {
            padding-top: 32px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #94a3b8;
            font-size: 14px;
        }
        
        .legal-links {
            display: flex;
            gap: 24px;
        }
        
        /* ====== ANIMATIONS ====== */
        .fade-in {
            animation: fadeInUp 0.8s ease;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        /* ====== RESPONSIVE ====== */
        @media (max-width: 1024px) {
            .search-grid {
                grid-template-columns: 1fr;
            }
            
            .footer-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .dashboard-layout {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                display: none;
            }
        }
        
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .mobile-menu-btn {
                display: block;
                background: none;
                border: none;
                font-size: 24px;
                color: var(--primary);
                cursor: pointer;
            }
            
            h1 { font-size: 2.5rem; }
            h2 { font-size: 2rem; }
            
            .hero {
                padding: 80px 0 60px;
            }
            
            .jobs-grid {
                grid-template-columns: 1fr;
            }
            
            .footer-grid {
                grid-template-columns: 1fr;
            }
            
            .footer-bottom {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
        }
        
        /* ====== UTILITY CLASSES ====== */
        .text-center { text-align: center; }
        .mt-1 { margin-top: 0.25rem; }
        .mt-2 { margin-top: 0.5rem; }
        .mt-4 { margin-top: 1rem; }
        .mt-8 { margin-top: 2rem; }
        .mb-1 { margin-bottom: 0.25rem; }
        .mb-2 { margin-bottom: 0.5rem; }
        .mb-4 { margin-bottom: 1rem; }
        .mb-8 { margin-bottom: 2rem; }
        .p-4 { padding: 1rem; }
        .p-8 { padding: 2rem; }
        .rounded { border-radius: 0.5rem; }
        .rounded-lg { border-radius: 1rem; }
        .shadow { box-shadow: var(--shadow); }
        .shadow-lg { box-shadow: var(--shadow-lg); }
    </style>
    
    <!-- Additional CSS for specific components -->
    <style>
        /* AI Chat Interface */
        .ai-chat {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }
        
        .chat-toggle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            box-shadow: var(--shadow-lg);
            transition: transform 0.3s;
        }
        
        .chat-toggle:hover {
            transform: scale(1.1);
        }
        
        .chat-window {
            position: absolute;
            bottom: 80px;
            right: 0;
            width: 350px;
            height: 500px;
            background: white;
            border-radius: 20px;
            box-shadow: var(--shadow-lg);
            display: none;
            flex-direction: column;
        }
        
        .chat-header {
            padding: 20px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border-radius: 20px 20px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .chat-body {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .chat-message {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 18px;
            line-height: 1.4;
        }
        
        .chat-message.ai {
            background: var(--light);
            align-self: flex-start;
            border-bottom-left-radius: 4px;
        }
        
        .chat-message.user {
            background: var(--primary);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }
        
        .chat-input {
            padding: 20px;
            border-top: 1px solid var(--border);
        }
        
        /* Job Application Tracker */
        .application-tracker {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: var(--shadow);
        }
        
        .tracker-stages {
            display: flex;
            justify-content: space-between;
            margin: 32px 0;
            position: relative;
        }
        
        .tracker-stages::before {
            content: '';
            position: absolute;
            top: 16px;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--border);
            z-index: 1;
        }
        
        .tracker-stage {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
        }
        
        .stage-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 8px;
            transition: all 0.3s;
        }
        
        .stage-icon.active {
            background: var(--success);
            color: white;
        }
        
        .stage-icon.completed {
            background: var(--primary);
            color: white;
        }
        
        /* Skill Assessment */
        .skill-assessment {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 40px;
            border-radius: 20px;
            margin: 40px 0;
        }
        
        .skill-bar {
            height: 12px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            margin: 16px 0;
            overflow: hidden;
        }
        
        .skill-progress {
            height: 100%;
            background: var(--accent);
            border-radius: 6px;
            transition: width 1s ease;
        }
        
        /* Industry Network */
        .network-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .network-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            transition: transform 0.3s;
            border: 1px solid var(--border);
        }
        
        .network-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow);
            border-color: var(--primary);
        }
        
        .network-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            margin: 0 auto 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 24px;
        }
        
        /* Data Processing Consent */
        .consent-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--dark);
            color: white;
            padding: 20px;
            z-index: 9999;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.2);
        }
        
        .consent-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1280px;
            margin: 0 auto;
        }
        
        /* Premium Badge */
        .premium-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: var(--dark);
            padding: 6px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 14px;
        }
        
        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 50px;
            height: 50px;
            border: 3px solid var(--border);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Progress Circle */
        .progress-circle {
            width: 120px;
            height: 120px;
            position: relative;
        }
        
        .progress-circle svg {
            width: 120px;
            height: 120px;
            transform: rotate(-90deg);
        }
        
        .progress-circle-bg {
            fill: none;
            stroke: var(--border);
            stroke-width: 10;
        }
        
        .progress-circle-progress {
            fill: none;
            stroke: var(--primary);
            stroke-width: 10;
            stroke-linecap: round;
            stroke-dasharray: 314;
            stroke-dashoffset: 314;
            transition: stroke-dashoffset 1s ease;
        }
        
        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
        }
        
        .tooltip .tooltip-text {
            visibility: hidden;
            width: 200px;
            background: var(--dark);
            color: white;
            text-align: center;
            padding: 8px;
            border-radius: 6px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 14px;
        }
        
        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <a href="#home" class="logo">
                <div class="logo-icon">CB</div>
                <span>CareerBridge<span style="color: var(--primary);">Pro</span></span>
            </a>
            
            <div class="nav-links">
                <a href="#home" class="nav-link active">
                    <i class="fas fa-home"></i> Home
                </a>
                <a href="#jobs" class="nav-link">
                    <i class="fas fa-briefcase"></i> Find Jobs
                </a>
                <a href="#employers" class="nav-link">
                    <i class="fas fa-building"></i> Employers
                </a>
                <a href="#career" class="nav-link">
                    <i class="fas fa-graduation-cap"></i> Career Tools
                </a>
                <a href="#network" class="nav-link">
                    <i class="fas fa-users"></i> Network
                </a>
                <a href="#premium" class="nav-link premium">
                    <i class="fas fa-crown"></i> Premium
                </a>
            </div>
            
            <div class="auth-buttons">
                <button class="btn btn-outline" onclick="openModal('loginModal')">
                    <i class="fas fa-sign-in-alt"></i> Sign In
                </button>
                <button class="btn btn-primary" onclick="openModal('registerModal')">
                    <i class="fas fa-user-plus"></i> Register Free
                </button>
            </div>
            
            <button class="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="container">
            <div class="hero-content fade-in">
                <h1 class="hero-title">
                    Find Your <span class="text-gradient">Dream Job</span><br>
                    in South Africa
                </h1>
                <p class="hero-subtitle">
                    Powered by AI. Backed by Nodinopro (Pty) Ltd. Connecting 50,000+ professionals with top employers nationwide.
                    <span class="premium-badge mt-4">
                        <i class="fas fa-shield-alt"></i> CoReg No: [Your Company Registration]
                    </span>
                </p>
                
                <div class="search-wrapper">
                    <div class="search-grid">
                        <div class="search-group">
                            <i class="fas fa-search search-icon"></i>
                            <input type="text" class="search-input" placeholder="Job title, skills, or keywords" id="jobSearch">
                        </div>
                        <div class="search-group">
                            <i class="fas fa-map-marker-alt search-icon"></i>
                            <input type="text" class="search-input" placeholder="City, province or remote" id="locationSearch">
                        </div>
                        <div class="search-group">
                            <i class="fas fa-filter search-icon"></i>
                            <select class="search-select" id="categorySearch">
                                <option value="">All Industries</option>
                                <option value="it">IT & Technology</option>
                                <option value="finance">Finance & Banking</option>
                                <option value="health">Healthcare</option>
                                <option value="engineering">Engineering</option>
                                <option value="education">Education</option>
                                <option value="sales">Sales & Marketing</option>
                                <option value="legal">Legal</option>
                                <option value="creative">Creative & Design</option>
                            </select>
                        </div>
                        <button class="btn btn-primary btn-lg" onclick="searchJobs()">
                            <i class="fas fa-search"></i> Search Jobs
                        </button>
                    </div>
                    
                    <div style="display: flex; gap: 16px; margin-top: 16px; flex-wrap: wrap;">
    <span style="font-size: 14px; color: var(--gray);">Trending:</span>
    <button class="btn btn-outline" style="padding: 8px 16px; font-size: 14px;" onclick="searchTrending('Remote')">
        Remote
    </button>
    <button class="btn btn-outline" style="padding: 8px 16px; font-size: 14px;" onclick="searchTrending('Software Developer')">
        Software Developer
    </button>
    <button class="btn btn-outline" style="padding: 8px 16px; font-size: 14px;" onclick="searchTrending('Data Analyst')">
        Data Analyst
    </button>
    <button class="btn btn-outline" style="padding: 8px 16px; font-size: 14px;" onclick="searchTrending('Project Manager')">
        Project Manager
    </button>
</div>

<!-- === WHATSAPP COMMUNITY CALL-TO-ACTION - ADDED HERE === -->
<div style="background: linear-gradient(135deg, #25D366, #128C7E); color: white; padding: 25px; border-radius: 12px; text-align: center; margin: 30px 0; box-shadow: var(--shadow);">
    <h3 style="margin-bottom: 10px;"><i class="fab fa-whatsapp"></i> Join Our Free Job Network</h3>
    <p style="margin-bottom: 20px; opacity: 0.9;">Be the first to get new job alerts, connect with professionals, and help build South Africa's next great career platform.</p>
    <a href="https://chat.whatsapp.com/https://chat.whatsapp.com/KbLzjA2xZD7DEdQsQWIjJV" 
       target="_blank" 
       style="display: inline-block; background: white; color: #128C7E; padding: 14px 35px; border-radius: 50px; font-weight: bold; text-decoration: none; font-size: 18px;">
        <i class="fab fa-whatsapp"></i> JOIN THE WHATSAPP GROUP
    </a>
    <p style="font-size: 14px; margin-top: 15px; opacity: 0.8;">Beta members get lifetime benefits.</p>
</div>
<!-- === END WHATSAPP SECTION === -->

<div class="stats-grid" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 24px;">
    <div class="stat" style="text-align: center;">
        <h3 style="font-size: 36px; margin-bottom: 8px;">10,000+</h3>
        <p style="opacity: 0.8;">Active Jobs</p>
    </div>
    <div class="stat" style="text-align: center;">
        <h3 style="font-size: 36px; margin-bottom: 8px;">5,000+</h3>
        <p style="opacity: 0.8;">Companies</p>
    </div>
    <div class="stat" style="text-align: center;">
        <h3 style="font-size: 36px; margin-bottom: 8px;">50,000+</h3>
        <p style="opacity: 0.8;">Professionals</p>
    </div>
    <div class="stat" style="text-align: center;">
        <h3 style="font-size: 36px; margin-bottom: 8px;">98%</h3>
        <p style="opacity: 0.8;">Verified Profiles</p>
    </div>
</div>

            </div>
        </div>
    </section>

    <!-- Advanced Features Section -->
    <section class="features">
        <div class="container">
            <h2 class="text-center mb-4">Advanced Career Platform Features</h2>
            <p class="text-center mb-8" style="color: var(--gray); max-width: 800px; margin: 0 auto;">
                Powered by AI and real-time data processing. Experience the future of job searching.
            </p>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <h4>AI-Powered Job Matching</h4>
                    <p>Our algorithm learns your preferences and matches you with perfect opportunities using machine learning.</p>
                    <div class="mt-4">
                        <span class="premium-badge">
                            <i class="fas fa-bolt"></i> Real-time Updates
                        </span>
                    </div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-chart-network"></i>
                    </div>
                    <h4>Industry Network Analytics</h4>
                    <p>Connect with professionals in your industry and analyze market trends with our network intelligence.</p>
                    <div class="mt-4">
                        <span class="premium-badge">
                            <i class="fas fa-users"></i> 10K+ Network
                        </span>
                    </div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-file-contract"></i>
                    </div>
                    <h4>Smart Contract Verification</h4>
                    <p>Automated verification of qualifications, experience, and professional credentials using blockchain technology.</p>
                    <div class="mt-4">
                        <span class="premium-badge">
                            <i class="fas fa-shield-alt"></i> Secure
                        </span>
                    </div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <h4>Career Path Predictor</h4>
                    <p>AI analyzes your skills and experience to predict optimal career paths and salary progression.</p>
                    <div class="mt-4">
                        <span class="premium-badge">
                            <i class="fas fa-chart-line"></i> Predictive
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- AI-Powered Job Search -->
    <section class="ai-section">
        <div class="container">
            <h2 class="text-center mb-4">AI-Powered Career Assistant</h2>
            <p class="text-center mb-8" style="opacity: 0.9;">
                Get personalized career guidance from our AI assistant
            </p>
            
            <div class="ai-features">
                <div class="ai-card">
                    <i class="fas fa-comment-alt" style="font-size: 32px; margin-bottom: 16px;"></i>
                    <h5>Resume Optimization</h5>
                    <p style="opacity: 0.8; font-size: 14px;">AI analyzes and improves your CV for better visibility</p>
                </div>
                
                <div class="ai-card">
                    <i class="fas fa-video" style="font-size: 32px; margin-bottom: 16px;"></i>
                    <h5>Interview Prep AI</h5>
                    <p style="opacity: 0.8; font-size: 14px;">Practice interviews with AI that gives real-time feedback</p>
                </div>
                
                <div class="ai-card">
                    <i class="fas fa-bullseye" style="font-size: 32px; margin-bottom: 16px;"></i>
                    <h5>Skill Gap Analysis</h5>
                    <p style="opacity: 0.8; font-size: 14px;">Identify skills needed for your target positions</p>
                </div>
                
                <div class="ai-card">
                    <i class="fas fa-network-wired" style="font-size: 32px; margin-bottom: 16px;"></i>
                    <h5>Network Intelligence</h5>
                    <p style="opacity: 0.8; font-size: 14px;">AI suggests key people to connect with in your industry</p>
                </div>
            </div>
            
            <div class="text-center mt-8">
                <button class="btn btn-secondary btn-lg pulse" onclick="openModal('aiAssistantModal')">
                    <i class="fas fa-robot"></i> Try AI Assistant Free
                </button>
            </div>
        </div>
    </section>

    <!-- Featured Jobs -->
    <section id="jobs" class="jobs-section">
        <div class="container">
            <div class="section-header">
                <div>
                    <h2>Featured Job Opportunities</h2>
                    <p style="color: var(--gray);">Handpicked opportunities matching current market trends</p>
                </div>
                <a href="#all-jobs" class="view-all">
                    View All Jobs <i class="fas fa-arrow-right"></i>
                </a>
            </div>
            
            <div class="jobs-grid" id="jobsContainer">
                <!-- Jobs loaded dynamically -->
            </div>
            
            <div class="text-center">
                <button class="btn btn-outline" onclick="loadMoreJobs()">
                    <i class="fas fa-sync-alt"></i> Load More Jobs
                </button>
            </div>
        </div>
    </section>

    <!-- Industry Network Section -->
    <section id="network" class="features" style="background: var(--light);">
        <div class="container">
            <h2 class="text-center mb-4">Connect with Industry Leaders</h2>
            <p class="text-center mb-8" style="color: var(--gray); max-width: 800px; margin: 0 auto;">
                Network with professionals across South Africa's top industries
            </p>
            
            <div class="network-grid">
                <div class="network-card">
                    <div class="network-avatar">IT</div>
                    <h5>Technology</h5>
                    <p style="color: var(--gray); font-size: 14px;">8,500+ professionals</p>
                    <button class="btn btn-outline mt-4" style="padding: 8px 16px; font-size: 14px;">
                        Connect
                    </button>
                </div>
                
                <div class="network-card">
                    <div class="network-avatar">F</div>
                    <h5>Finance</h5>
                    <p style="color: var(--gray); font-size: 14px;">6,200+ professionals</p>
                    <button class="btn btn-outline mt-4" style="padding: 8px 16px; font-size: 14px;">
                        Connect
                    </button>
                </div>
                
                <div class="network-card">
                    <div class="network-avatar">H</div>
                    <h5>Healthcare</h5>
                    <p style="color: var(--gray); font-size: 14px;">4,800+ professionals</p>
                    <button class="btn btn-outline mt-4" style="padding: 8px 16px; font-size: 14px;">
                        Connect
                    </button>
                </div>
                
                <div class="network-card">
                    <div class="network-avatar">E</div>
                    <h5>Engineering</h5>
                    <p style="color: var(--gray); font-size: 14px;">5,500+ professionals</p>
                    <button class="btn btn-outline mt-4" style="padding: 8px 16px; font-size: 14px;">
                        Connect
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Premium Section -->
    <section id="premium" class="ai-section">
        <div class="container">
            <div class="text-center mb-8">
                <span class="premium-badge" style="font-size: 16px; padding: 12px 24px;">
                    <i class="fas fa-crown"></i> PREMIUM
                </span>
                <h2 class="mt-4">Unlock Advanced Features</h2>
                <p style="opacity: 0.9; max-width: 600px; margin: 0 auto;">
                    Get ahead in your career with premium tools and insights
                </p>
            </div>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 32px;">
                <div style="background: rgba(255,255,255,0.1); padding: 32px; border-radius: 16px;">
                    <h4><i class="fas fa-bolt"></i> Premium Benefits</h4>
                    <ul style="margin: 20px 0; list-style: none;">
                        <li style="margin-bottom: 12px;"><i class="fas fa-check" style="color: var(--accent);"></i> Unlimited job applications</li>
                        <li style="margin-bottom: 12px;"><i class="fas fa-check" style="color: var(--accent);"></i> Advanced AI career predictions</li>
                        <li style="margin-bottom: 12px;"><i class="fas fa-check" style="color: var(--accent);"></i> Priority support 24/7</li>
                        <li style="margin-bottom: 12px;"><i class="fas fa-check" style="color: var(--accent);"></i> Salary insights and benchmarks</li>
                        <li><i class="fas fa-check" style="color: var(--accent);"></i> Exclusive networking events</li>
                    </ul>
                </div>
                
                <div style="background: rgba(255,255,255,0.1); padding: 32px; border-radius: 16px;">
                    <h4><i class="fas fa-chart-line"></i> Data Analytics</h4>
                    <p style="opacity: 0.9; margin: 20px 0;">
                        Access to premium market data and salary trends across industries
                    </p>
                    <div class="progress-circle mt-8" style="margin: 0 auto;">
                        <svg>
                            <circle class="progress-circle-bg" cx="60" cy="60" r="50"></circle>
                            <circle class="progress-circle-progress" cx="60" cy="60" r="50" style="stroke-dashoffset: 157;"></circle>
                        </svg>
                        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center;">
                            <div style="font-size: 24px; font-weight: bold;">50%</div>
                            <div style="font-size: 12px;">More Interviews</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="text-center mt-8">
                <button class="btn btn-secondary btn-lg" onclick="openModal('premiumModal')">
                    <i class="fas fa-crown"></i> Upgrade to Premium
                </button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <a href="#home" class="logo" style="color: white; margin-bottom: 24px; display: inline-block;">
                        CareerBridge<span style="color: var(--accent);">Pro</span>
                    </a>
                    <p style="color: #cbd5e1; margin-bottom: 24px;">
                        A Nodinopro (Pty) Ltd Product<br>
                        Company Registration: [Your CoReg Number]<br>
                        South Africa's Leading Career Platform
                    </p>
                    <div style="display: flex; gap: 16px;">
                        <a href="#" style="color: #cbd5e1;"><i class="fab fa-facebook"></i></a>
                        <a href="#" style="color: #cbd5e1;"><i class="fab fa-twitter"></i></a>
                        <a href="#" style="color: #cbd5e1;"><i class="fab fa-linkedin"></i></a>
                        <a href="#" style="color: #cbd5e1;"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                
                <div class="footer-col">
                    <h3>Job Seekers</h3>
                    <ul>
                        <li><a href="#jobs">Browse Jobs</a></li>
                        <li><a href="#career">Career Tools</a></li>
                        <li><a href="#network">Networking</a></li>
                        <li><a href="#premium">Premium Features</a></li>
                        <li><a href="#" onclick="openModal('salaryGuideModal')">Salary Guide</a></li>
                    </ul>
                </div>
                
                <div class="footer-col">
                    <h3>Employers</h3>
                    <ul>
                        <li><a href="#" onclick="openModal('postJobModal')">Post a Job</a></li>
                        <li><a href="#">Find Candidates</a></li>
                        <li><a href="#">Employer Solutions</a></li>
                        <li><a href="#">Pricing</a></li>
                        <li><a href="#">Recruitment Tools</a></li>
                    </ul>
                </div>
                
                <div class="footer-col">
                    <h3>Company</h3>
                    <ul>
                        <li><a href="#" onclick="showLegal('about')">About Us</a></li>
                        <li><a href="#" onclick="showLegal('contact')">Contact</a></li>
                        <li><a href="#" onclick="showLegal('privacy')">Privacy Policy</a></li>
                        <li><a href="#" onclick="showLegal('terms')">Terms of Service</a></li>
                        <li><a href="#" onclick="showLegal('refund')">Refund Policy</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <div>
                     2024 Nodinopro (Pty) Ltd. All rights reserved. | 
                    <span class="tooltip" style="color: var(--accent); cursor: help;">
                        Copyright Protected
                        <span class="tooltip-text">This software and its contents are protected under South African copyright law</span>
                    </span>
                </div>
                <div class="legal-links">
                    <a href="#" onclick="showLegal('disclaimer')">Disclaimer</a>
                    <a href="#" onclick="showLegal('cookies')">Cookie Policy</a>
                    <a href="#" onclick="showLegal('gdpr')">GDPR Compliance</a>
                    <a href="#" onclick="showLegal('popia')">POPIA Compliance</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- AI Chat Interface -->
    <div class="ai-chat">
        <button class="chat-toggle" onclick="toggleChat()">
            <i class="fas fa-robot"></i>
        </button>
        <div class="chat-window" id="chatWindow">
            <div class="chat-header">
                <div>
                    <h5 style="margin: 0;"><i class="fas fa-robot"></i> Career AI Assistant</h5>
                    <small>Powered by Nodinopro AI</small>
                </div>
                <button onclick="toggleChat()" style="background: none; border: none; color: white; cursor: pointer;">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="chat-body" id="chatBody">
                <div class="chat-message ai">
                    Hello! I'm your Career AI Assistant. How can I help you today?
                </div>
            </div>
            <div class="chat-input">
                <div style="display: flex; gap: 8px;">
                    <input type="text" placeholder="Ask me anything about careers..." 
                           style="flex: 1; padding: 12px; border: 1px solid var(--border); border-radius: 20px;"
                           id="chatInput">
                    <button onclick="sendChatMessage()" style="background: var(--primary); color: white; border: none; width: 40px; height: 40px; border-radius: 50%; cursor: pointer;">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Data Processing Consent Banner -->
    <div class="consent-banner" id="consentBanner" style="display: none;">
        <div class="consent-content">
            <div>
                <p style="margin: 0;">
                    We use cookies and process data to improve your experience. By continuing, you agree to our 
                    <a href="#" onclick="showLegal('privacy')" style="color: var(--accent);">Privacy Policy</a> and 
                    <a href="#" onclick="showLegal('terms')" style="color: var(--accent);">Terms of Service</a>.
                    <br>
                    <small>Data processing helps us provide better job matches and career insights.</small>
                </p>
            </div>
            <div style="display: flex; gap: 12px;">
                <button onclick="rejectDataProcessing()" class="btn btn-outline" style="color: white; border-color: white;">
                    Reject
                </button>
                <button onclick="acceptDataProcessing()" class="btn btn-primary">
                    Accept All
                </button>
            </div>
        </div>
    </div>

    <!-- ====== MODALS ====== -->
    
    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Welcome Back</h3>
                <button class="modal-close" onclick="closeModal('loginModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="loginForm" onsubmit="handleLogin(event)">
                    <div class="form-group">
                        <label class="form-label">Email Address</label>
                        <input type="email" class="form-control" id="loginEmail" required placeholder="you@example.com">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-control" id="loginPassword" required placeholder="">
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                        <label>
                            <input type="checkbox"> Remember me
                        </label>
                        <a href="#" style="color: var(--primary); font-size: 14px;">Forgot password?</a>
                    </div>
                    <button type="submit" class="btn btn-primary btn-block">
                        <i class="fas fa-sign-in-alt"></i> Sign In
                    </button>
                </form>
                <div style="text-align: center; margin-top: 24px;">
                    <p style="color: var(--gray);">Don't have an account? 
                        <a href="#" style="color: var(--primary);" onclick="switchModal('register')">Sign up</a>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div class="modal" id="registerModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create Your Account</h3>
                <button class="modal-close" onclick="closeModal('registerModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="registerForm" onsubmit="handleRegister(event)">
                    <div class="form-group">
                        <label class="form-label">Full Name</label>
                        <input type="text" class="form-control" id="registerName" required placeholder="John Doe">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email Address</label>
                        <input type="email" class="form-control" id="registerEmail" required placeholder="you@example.com">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-control" id="registerPassword" required placeholder="">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Account Type</label>
                        <select class="form-control" id="registerType" required>
                            <option value="">Select account type</option>
                            <option value="job_seeker">Job Seeker</option>
                            <option value="employer">Employer</option>
                            <option value="recruiter">Recruiter</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label style="display: flex; align-items: flex-start; gap: 8px; cursor: pointer;">
                            <input type="checkbox" required style="margin-top: 4px;">
                            <span style="font-size: 14px;">
                                I agree to the <a href="#" onclick="showLegal('terms')" style="color: var(--primary);">Terms of Service</a> 
                                and <a href="#" onclick="showLegal('privacy')" style="color: var(--primary);">Privacy Policy</a>. 
                                I understand that all payments are <strong>non-refundable</strong> as per company policy.
                            </span>
                        </label>
                    </div>
                    <button type="submit" class="btn btn-primary btn-block">
                        <i class="fas fa-user-plus"></i> Create Account
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- AI Assistant Modal -->
    <div class="modal" id="aiAssistantModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-robot"></i> AI Career Assistant</h3>
                <button class="modal-close" onclick="closeModal('aiAssistantModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div style="background: var(--light); padding: 24px; border-radius: 12px; margin-bottom: 24px;">
                    <h5>How AI Can Help Your Career:</h5>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-top: 16px;">
                        <div>
                            <p><i class="fas fa-check" style="color: var(--success);"></i> Resume optimization</p>
                            <p><i class="fas fa-check" style="color: var(--success);"></i> Interview preparation</p>
                        </div>
                        <div>
                            <p><i class="fas fa-check" style="color: var(--success);"></i> Skill gap analysis</p>
                            <p><i class="fas fa-check" style="color: var(--success);"></i> Career path prediction</p>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">What career assistance do you need?</label>
                    <select class="form-control" id="aiAssistanceType">
                        <option value="">Select assistance type</option>
                        <option value="resume">Resume Review & Optimization</option>
                        <option value="interview">Interview Preparation</option>
                        <option value="skills">Skill Gap Analysis</option>
                        <option value="career">Career Path Planning</option>
                        <option value="salary">Salary Negotiation</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Additional Details</label>
                    <textarea class="form-control" rows="4" placeholder="Tell us more about what you need help with..."></textarea>
                </div>
                
                <button class="btn btn-primary btn-block" onclick="startAIAssistance()">
                    <i class="fas fa-play"></i> Start AI Analysis
                </button>
                
                <p style="text-align: center; margin-top: 16px; color: var(--gray); font-size: 14px;">
                    Free for first analysis. Premium features available for detailed reports.
                </p>
            </div>
        </div>
    </div>

    <!-- Premium Subscription Modal -->
    <div class="modal" id="premiumModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-crown"></i> Upgrade to Premium</h3>
                <button class="modal-close" onclick="closeModal('premiumModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div style="text-align: center; margin-bottom: 32px;">
                    <div class="premium-badge" style="font-size: 20px; padding: 16px 32px;">
                        <i class="fas fa-bolt"></i> PREMIUM FEATURES
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 32px;">
                    <div style="text-align: center; padding: 24px; border: 2px solid var(--border); border-radius: 12px;">
                        <h4>Monthly</h4>
                        <div style="font-size: 36px; font-weight: bold; color: var(--primary); margin: 16px 0;">
                            R199<span style="font-size: 16px; color: var(--gray);">/month</span>
                        </div>
                        <button class="btn btn-outline" style="width: 100%;" onclick="subscribePremium('monthly')">
                            Subscribe
                        </button>
                    </div>
                    
                    <div style="text-align: center; padding: 24px; border: 2px solid var(--primary); border-radius: 12px; background: linear-gradient(135deg, rgba(30, 64, 175, 0.1), transparent);">
                        <div style="background: var(--primary); color: white; padding: 4px 12px; border-radius: 20px; display: inline-block; margin-bottom: 12px;">
                            BEST VALUE
                        </div>
                        <h4>Yearly</h4>
                        <div style="font-size: 36px; font-weight: bold; color: var(--primary); margin: 16px 0;">
                            R1,999<span style="font-size: 16px; color: var(--gray);">/year</span>
                        </div>
                        <div style="color: var(--success); font-size: 14px; margin-bottom: 16px;">Save R389</div>
                        <button class="btn btn-primary" style="width: 100%;" onclick="subscribePremium('yearly')">
                            Subscribe
                        </button>
                    </div>
                </div>
                
                <div style="background: var(--light); padding: 20px; border-radius: 12px; margin-bottom: 24px;">
                    <h5 style="margin-bottom: 12px;">Premium Benefits Include:</h5>
                    <ul style="list-style: none; padding: 0;">
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: var(--success);"></i> Unlimited AI career consultations</li>
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: var(--success);"></i> Priority job applications</li>
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: var(--success);"></i> Advanced market analytics</li>
                        <li style="margin-bottom: 8px;"><i class="fas fa-check" style="color: var(--success);"></i> Exclusive networking events</li>
                        <li><i class="fas fa-check" style="color: var(--success);"></i> 24/7 premium support</li>
                    </ul>
                </div>
                
                <p style="text-align: center; color: var(--gray); font-size: 14px;">
                    <i class="fas fa-exclamation-circle"></i> All payments are final and non-refundable as per company policy.
                    <br>
                    <a href="#" onclick="showLegal('refund')" style="color: var(--primary); font-size: 12px;">View Refund Policy</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Data Processing Consent Settings -->
    <div class="modal" id="dataConsentModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-database"></i> Data Processing Settings</h3>
                <button class="modal-close" onclick="closeModal('dataConsentModal')">&times;</button>
            </div>
            <div class="modal-body">
                <p style="margin-bottom: 24px;">
                    We process data to improve your experience and provide better services. 
                    You can customize your preferences below.
                </p>
                
                <div style="margin-bottom: 24px;">
                    <h5>Data Processing Options</h5>
                    
                    <div style="background: var(--light); padding: 20px; border-radius: 12px; margin-top: 16px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                            <div>
                                <strong>Essential Data</strong>
                                <p style="color: var(--gray); font-size: 14px; margin: 4px 0 0;">Required for app functionality</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" checked disabled>
                                <span class="slider"></span>
                            </label>
                        </div>
                        
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                            <div>
                                <strong>Analytics & Improvements</strong>
                                <p style="color: var(--gray); font-size: 14px; margin: 4px 0 0;">Help us improve our services</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="analyticsConsent" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                            <div>
                                <strong>Personalized Job Matching</strong>
                                <p style="color: var(--gray); font-size: 14px; margin: 4px 0 0;">Better job recommendations</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="matchingConsent" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <strong>Marketing Communications</strong>
                                <p style="color: var(--gray); font-size: 14px; margin: 4px 0 0;">Career tips and opportunities</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="marketingConsent">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <div style="background: var(--light); padding: 20px; border-radius: 12px; margin-bottom: 24px;">
                    <h5 style="margin-bottom: 12px;">Data Monetization Information</h5>
                    <p style="color: var(--gray); font-size: 14px;">
                        <i class="fas fa-info-circle" style="color: var(--primary);"></i>
                        We may process <strong>aggregated, anonymized data</strong> to:
                    </p>
                    <ul style="color: var(--gray); font-size: 14px; padding-left: 20px; margin: 12px 0;">
                        <li>Improve job market analytics</li>
                        <li>Provide industry trend reports</li>
                        <li>Develop better AI matching algorithms</li>
                    </ul>
                    <p style="color: var(--gray); font-size: 14px; margin-top: 12px;">
                        <strong>Note:</strong> We never sell personal identifying information. All data processing 
                        complies with POPIA and GDPR regulations.
                    </p>
                </div>
                
                <div class="modal-footer">
                    <button class="btn btn-outline" onclick="saveConsentSettings()">
                        Save Settings
                    </button>
                    <button class="btn btn-primary" onclick="acceptAllConsent()">
                        Accept All
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ====== GLOBAL STATE ======
        const appState = {
            currentUser: null,
            jobs: [],
            userConsent: {
                essential: true,
                analytics: false,
                matching: false,
                marketing: false,
                dataProcessing: false
            },
            revenue: {
                ads: 0,
                subscriptions: 0,
                dataServices: 0,
                premium: 0,
                total: 0
            },
            aiAssistant: {
                enabled: true,
                history: []
            }
        };

        // ====== SAMPLE JOB DATA ======
        const sampleJobs = [
            {
                id: 1,
                title: "Senior Frontend Developer",
                company: "Tech Innovations SA",
                salary: "R85,000 - R120,000",
                location: "Johannesburg (Hybrid)",
                type: "Full-time",
                experience: "Senior",
                remote: true,
                category: "IT",
                description: "Lead frontend development for our enterprise SaaS platform using React, TypeScript, and modern frameworks.",
                date: "2 hours ago",
                premium: true,
                featured: true,
                applications: 45,
                aiMatch: 95
            },
            {
                id: 2,
                title: "Data Scientist",
                company: "Financial Analytics Group",
                salary: "R95,000 - R140,000",
                location: "Cape Town",
                type: "Full-time",
                experience: "Senior",
                remote: false,
                category: "Finance",
                description: "Apply machine learning and statistical analysis to solve complex financial problems.",
                date: "5 hours ago",
                premium: true,
                featured: true,
                applications: 32,
                aiMatch: 92
            },
            {
                id: 3,
                title: "Healthcare IT Manager",
                company: "MediTech Solutions",
                salary: "R75,000 - R110,000",
                location: "Pretoria",
                type: "Full-time",
                experience: "Mid-Senior",
                remote: true,
                category: "Healthcare",
                description: "Manage IT systems for healthcare facilities and implement digital transformation projects.",
                date: "1 day ago",
                premium: false,
                featured: true,
                applications: 28,
                aiMatch: 88
            },
            {
                id: 4,
                title: "DevOps Engineer",
                company: "Cloud Systems Africa",
                salary: "R90,000 - R130,000",
                location: "Remote",
                type: "Contract",
                experience: "Senior",
                remote: true,
                category: "IT",
                description: "Design and implement CI/CD pipelines and cloud infrastructure on AWS/Azure.",
                date: "2 days ago",
                premium: true,
                featured: true,
                applications: 56,
                aiMatch: 96
            },
            {
                id: 5,
                title: "Marketing Director",
                company: "Digital Growth Agency",
                salary: "R65,000 - R95,000",
                location: "Durban",
                type: "Full-time",
                experience: "Executive",
                remote: false,
                category: "Marketing",
                description: "Lead marketing strategy and team for digital agency serving international clients.",
                date: "3 days ago",
                premium: false,
                featured: true,
                applications: 41,
                aiMatch: 85
            },
            {
                id: 6,
                title: "Civil Engineer",
                company: "Infrastructure Development Ltd",
                salary: "R70,000 - R100,000",
                location: "Port Elizabeth",
                type: "Full-time",
                experience: "Mid",
                remote: false,
                category: "Engineering",
                description: "Design and oversee major infrastructure projects across the Eastern Cape.",
                date: "1 week ago",
                premium: false,
                featured: true,
                applications: 23,
                aiMatch: 82
            }
        ];

        // ====== INITIALIZATION ======
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            loadJobs();
            checkAuth();
            showConsentBanner();
            initializePWA();
        });

        function initializeApp() {
            // Load saved state
            const savedState = localStorage.getItem('careerBridgeState');
            if (savedState) {
                Object.assign(appState, JSON.parse(savedState));
            }
            
            // Initialize revenue tracking
            initializeRevenueTracking();
            
            // Set up service worker for PWA
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('/sw.js').catch(console.error);
            }
            
            // Initialize AI assistant
            initializeAIAssistant();
        }

        // ====== JOB MANAGEMENT ======
        function loadJobs() {
            appState.jobs = [...sampleJobs];
            const container = document.getElementById('jobsContainer');
            container.innerHTML = '';
            
            appState.jobs.forEach(job => {
                const jobCard = createJobCard(job);
                container.appendChild(jobCard);
            });
        }

        function createJobCard(job) {
            const div = document.createElement('div');
            div.className = 'job-card';
            div.innerHTML = `
                ${job.premium ? '<div class="job-badge">PREMIUM</div>' : ''}
                <div class="job-header">
                    <div>
                        <h3 class="job-title">${job.title}</h3>
                        <p class="job-company">${job.company}</p>
                    </div>
                    <div class="job-salary">${job.salary}</div>
                </div>
                
                <div class="job-meta">
                    <span class="job-tag">${job.type}</span>
                    <span class="job-tag">${job.experience}</span>
                    <span class="job-tag">${job.location}</span>
                    ${job.remote ? '<span class="job-tag" style="background:#d1fae5;color:#059669;">Remote</span>' : ''}
                    <span class="job-tag">${job.applications} applications</span>
                </div>
                
                <p class="job-desc">${job.description}</p>
                
                <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px;">
                    <div>
                        <span class="job-date">Posted ${job.date}</span>
                        ${job.aiMatch ? `<div style="font-size: 12px; color: var(--accent); margin-top: 4px;">
                            <i class="fas fa-brain"></i> ${job.aiMatch}% AI Match
                        </div>` : ''}
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-outline" onclick="saveJob(${job.id})">
                            <i class="fas fa-bookmark"></i>
                        </button>
                        <button class="btn btn-primary" onclick="applyForJob(${job.id})">
                            Apply Now
                        </button>
                    </div>
                </div>
            `;
            
            return div;
        }

        function searchJobs() {
            const searchTerm = document.getElementById('jobSearch').value.toLowerCase();
            const location = document.getElementById('locationSearch').value.toLowerCase();
            const category = document.getElementById('categorySearch').value;
            
            const filtered = sampleJobs.filter(job => {
                const matchesSearch = !searchTerm || 
                    job.title.toLowerCase().includes(searchTerm) ||
                    job.company.toLowerCase().includes(searchTerm) ||
                    job.description.toLowerCase().includes(searchTerm);
                
                const matchesLocation = !location || 
                    job.location.toLowerCase().includes(location);
                
                const matchesCategory = !category || 
                    job.category === category;
                
                return matchesSearch && matchesLocation && matchesCategory;
            });
            
            displaySearchResults(filtered);
            trackSearchEvent(searchTerm, location, category);
        }

        function searchTrending(term) {
            document.getElementById('jobSearch').value = term;
            searchJobs();
        }

        // ====== USER AUTHENTICATION ======
        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Demo authentication
            if (email && password) {
                appState.currentUser = {
                    id: Date.now(),
                    email: email,
                    name: email.split('@')[0],
                    type: 'job_seeker',
                    premium: false,
                    joined: new Date().toISOString()
                };
                
                localStorage.setItem('careerBridgeUser', JSON.stringify(appState.currentUser));
                closeModal('loginModal');
                showNotification('Login successful!', 'success');
                updateUIForUser();
                
                // Track login for analytics
                trackUserEvent('login');
            }
        }

        function handleRegister(e) {
            e.preventDefault();
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const type = document.getElementById('registerType').value;
            
            if (name && email && password && type) {
                appState.currentUser = {
                    id: Date.now(),
                    name: name,
                    email: email,
                    type: type,
                    premium: false,
                    joined: new Date().toISOString(),
                    settings: {
                        emailNotifications: true,
                        jobAlerts: true,
                        dataProcessing: appState.userConsent.dataProcessing
                    }
                };
                
                localStorage.setItem('careerBridgeUser', JSON.stringify(appState.currentUser));
                closeModal('registerModal');
                showNotification('Account created successfully!', 'success');
                updateUIForUser();
                
                // Track registration for analytics
                trackUserEvent('register', { account_type: type });
                
                // Show welcome offer
                setTimeout(() => {
                    openModal('premiumModal');
                }, 2000);
            }
        }

        function checkAuth() {
            const savedUser = localStorage.getItem('careerBridgeUser');
            if (savedUser) {
                appState.currentUser = JSON.parse(savedUser);
                updateUIForUser();
            }
        }

        function updateUIForUser() {
            const authButtons = document.querySelector('.auth-buttons');
            if (appState.currentUser) {
                authButtons.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div style="background: linear-gradient(135deg, var(--primary), var(--accent)); 
                                    color: white; width: 40px; height: 40px; border-radius: 50%; 
                                    display: flex; align-items: center; justify-content: center; 
                                    font-weight: bold; font-size: 18px;">
                            ${appState.currentUser.name.charAt(0).toUpperCase()}
                        </div>
                        <div>
                            <div style="font-weight: 500;">${appState.currentUser.name}</div>
                            <div style="font-size: 12px; color: var(--gray);">
                                ${appState.currentUser.premium ? 'Premium User' : 'Free Account'}
                            </div>
                        </div>
                        <button class="btn btn-outline" onclick="logout()" style="padding: 8px 16px;">
                            <i class="fas fa-sign-out-alt"></i>
                        </button>
                    </div>
                `;
            }
        }

        function logout() {
            appState.currentUser = null;
            localStorage.removeItem('careerBridgeUser');
            location.reload();
        }

        // ====== AI ASSISTANT ======
        function initializeAIAssistant() {
            // Load AI chat history
            const savedHistory = localStorage.getItem('aiChatHistory');
            if (savedHistory) {
                appState.aiAssistant.history = JSON.parse(savedHistory);
            }
        }

        function toggleChat() {
            const chatWindow = document.getElementById('chatWindow');
            chatWindow.style.display = chatWindow.style.display === 'flex' ? 'none' : 'flex';
        }

        function sendChatMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (!message) return;
            
            // Add user message
            addChatMessage(message, 'user');
            input.value = '';
            
            // Simulate AI response
            setTimeout(() => {
                const response = generateAIResponse(message);
                addChatMessage(response, 'ai');
            }, 1000);
            
            // Track AI usage for analytics
            trackAIUsage('chat_message', { length: message.length });
        }

        function generateAIResponse(message) {
            const responses = [
                "Based on your profile, I recommend focusing on upskilling in cloud technologies. The market demand is growing by 35% annually in South Africa.",
                "I've analyzed your query and found 3 immediate job matches in your area. Would you like me to show them?",
                "For your experience level, the average salary range is R85,000 - R120,000. I can help you negotiate better offers.",
                "Based on current market trends, here are the top 5 skills you should develop to advance your career...",
                "I've detected a 92% match with a senior position at a leading tech company. Would you like me to prepare your application?"
            ];
            
            return responses[Math.floor(Math.random() * responses.length)];
        }

        function addChatMessage(message, sender) {
            const chatBody = document.getElementById('chatBody');
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${sender}`;
            messageDiv.textContent = message;
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
            
            // Save to history
            appState.aiAssistant.history.push({ message, sender, timestamp: new Date().toISOString() });
            localStorage.setItem('aiChatHistory', JSON.stringify(appState.aiAssistant.history));
        }

        // ====== DATA PROCESSING & MONETIZATION ======
        function showConsentBanner() {
            if (!localStorage.getItem('dataConsentGiven')) {
                document.getElementById('consentBanner').style.display = 'block';
            }
        }

        function acceptDataProcessing() {
            appState.userConsent = {
                essential: true,
                analytics: true,
                matching: true,
                marketing: true,
                dataProcessing: true
            };
            
            localStorage.setItem('dataConsentGiven', 'true');
            localStorage.setItem('userConsent', JSON.stringify(appState.userConsent));
            document.getElementById('consentBanner').style.display = 'none';
            
            showNotification('Data processing preferences saved.', 'success');
            
            // Start data collection for monetization
            initializeDataMonetization();
        }

        function rejectDataProcessing() {
            appState.userConsent = {
                essential: true,
                analytics: false,
                matching: false,
                marketing: false,
                dataProcessing: false
            };
            
            localStorage.setItem('dataConsentGiven', 'rejected');
            localStorage.setItem('userConsent', JSON.stringify(appState.userConsent));
            document.getElementById('consentBanner').style.display = 'none';
            
            showNotification('Basic functionality only enabled.', 'info');
        }

        function initializeDataMonetization() {
            if (!appState.userConsent.dataProcessing) return;
            
            // Start collecting analytics data
            setInterval(() => {
                collectAnalyticsData();
            }, 300000); // Every 5 minutes
            
            // Process data for monetization
            processDataForMonetization();
        }

        function collectAnalyticsData() {
            const analyticsData = {
                timestamp: new Date().toISOString(),
                pageViews: 1,
                userAgent: navigator.userAgent,
                screenResolution: `${screen.width}x${screen.height}`,
                timeOnPage: Math.floor(Math.random() * 300) + 60,
                // Add more metrics as needed
            };
            
            // Save to local storage (in production, send to server)
            let existingData = JSON.parse(localStorage.getItem('analyticsData') || '[]');
            existingData.push(analyticsData);
            if (existingData.length > 1000) existingData = existingData.slice(-1000);
            localStorage.setItem('analyticsData', JSON.stringify(existingData));
            
            // Calculate revenue from data
            calculateDataRevenue(analyticsData);
        }

        function processDataForMonetization() {
            // Process user data for market insights
            const marketInsights = {
                jobSearchPatterns: analyzeSearchPatterns(),
                salaryTrends: analyzeSalaryTrends(),
                skillDemand: analyzeSkillDemand(),
                industryGrowth: analyzeIndustryGrowth(),
                geographicDistribution: analyzeGeographicDistribution()
            };
            
            // Save insights for potential sale to research firms
            localStorage.setItem('marketInsights', JSON.stringify(marketInsights));
            
            // Generate revenue from data processing
            generateDataRevenue(marketInsights);
        }

        function calculateDataRevenue(data) {
            // Simulate revenue from data processing
            const revenue = {
                timestamp: new Date().toISOString(),
                amount: 0.05, // R0.05 per data point
                source: 'data_processing',
                dataType: 'analytics'
            };
            
            appState.revenue.dataServices += revenue.amount;
            appState.revenue.total += revenue.amount;
            updateRevenueTracking();
            
            console.log(`Data processing revenue: R${revenue.amount.toFixed(2)}`);
        }

        function generateDataRevenue(insights) {
            // Simulate revenue from market insights
            const revenue = {
                timestamp: new Date().toISOString(),
                amount: 5.00, // R5.00 per insights package
                source: 'market_insights',
                insights: Object.keys(insights).length
            };
            
            appState.revenue.dataServices += revenue.amount;
            appState.revenue.total += revenue.amount;
            updateRevenueTracking();
            
            console.log(`Market insights revenue: R${revenue.amount.toFixed(2)}`);
        }

        // ====== REVENUE TRACKING ======
        function initializeRevenueTracking() {
            const savedRevenue = localStorage.getItem('revenueData');
            if (savedRevenue) {
                appState.revenue = JSON.parse(savedRevenue);
            }
        }

        function updateRevenueTracking() {
            localStorage.setItem('revenueData', JSON.stringify(appState.revenue));
            
            // Display in admin panel (hidden from regular users)
            if (window.location.hash === '#admin') {
                showAdminPanel();
            }
        }

        function subscribePremium(plan) {
            if (!appState.currentUser) {
                showNotification('Please login to subscribe.', 'warning');
                openModal('loginModal');
                return;
            }
            
            const prices = {
                monthly: 199,
                yearly: 1999
            };
            
            appState.revenue.subscriptions += prices[plan];
            appState.revenue.total += prices[plan];
            appState.currentUser.premium = true;
            
            // Update user in storage
            localStorage.setItem('careerBridgeUser', JSON.stringify(appState.currentUser));
            
            updateRevenueTracking();
            closeModal('premiumModal');
            
            showNotification(`Premium ${plan} subscription activated!`, 'success');
            
            // Track subscription event
            trackUserEvent('premium_subscription', { plan, amount: prices[plan] });
            
            // Process payment (in production, integrate with payment gateway)
            processPayment(prices[plan], plan);
        }

        function processPayment(amount, plan) {
            // Simulate payment processing
            const paymentData = {
                userId: appState.currentUser.id,
                amount: amount,
                currency: 'ZAR',
                plan: plan,
                timestamp: new Date().toISOString(),
                status: 'completed',
                transactionId: 'TX' + Date.now()
            };
            
            localStorage.setItem('lastPayment', JSON.stringify(paymentData));
            
            // Show payment confirmation
            setTimeout(() => {
                showNotification(`Payment of R${amount} processed successfully!`, 'success');
            }, 1500);
        }

        // ====== ANALYTICS FUNCTIONS ======
        function analyzeSearchPatterns() {
            // Analyze user search behavior
            return {
                popularKeywords: ['remote', 'software developer', 'data analyst'],
                searchFrequency: 'high',
                locationPreferences: ['Johannesburg', 'Cape Town', 'Remote'],
                categoryDistribution: {
                    IT: 45,
                    Finance: 25,
                    Healthcare: 15,
                    Engineering: 10,
                    Other: 5
                }
            };
        }

        function analyzeSalaryTrends() {
            // Analyze salary data
            return {
                averageSalaries: {
                    'Software Developer': 85000,
                    'Data Scientist': 95000,
                    'Project Manager': 75000,
                    'Marketing Manager': 65000
                },
                growthRates: {
                    IT: 12,
                    Finance: 8,
                    Healthcare: 10,
                    Engineering: 7
                }
            };
        }

        function analyzeSkillDemand() {
            // Analyze in-demand skills
            return {
                topSkills: ['Python', 'Cloud Computing', 'Data Analysis', 'Project Management'],
                emergingSkills: ['AI/ML', 'Cybersecurity', 'Blockchain', 'DevOps'],
                skillGaps: ['Digital Marketing', 'UX Design', 'Business Analytics']
            };
        }

        // ====== EVENT TRACKING ======
        function trackUserEvent(event, data = {}) {
            if (!appState.userConsent.analytics) return;
            
            const eventData = {
                event,
                userId: appState.currentUser?.id || 'anonymous',
                timestamp: new Date().toISOString(),
                ...data
            };
            
            // Save event for analytics
            let events = JSON.parse(localStorage.getItem('userEvents') || '[]');
            events.push(eventData);
            localStorage.setItem('userEvents', JSON.stringify(events));
        }

        function trackSearchEvent(term, location, category) {
            trackUserEvent('job_search', {
                search_term: term,
                location,
                category,
                results_count: appState.jobs.length
            });
        }

        function trackAIUsage(action, data = {}) {
            trackUserEvent('ai_interaction', {
                action,
                ...data
            });
        }

        // ====== UI UTILITIES ======
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'flex';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function switchModal(to) {
            if (to === 'register') {
                closeModal('loginModal');
                setTimeout(() => openModal('registerModal'), 300);
            } else {
                closeModal('registerModal');
                setTimeout(() => openModal('loginModal'), 300);
            }
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <div>
                    <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                </div>
                <div style="flex: 1;">${message}</div>
                <button onclick="this.parentElement.remove()" style="background: none; border: none; color: inherit; cursor: pointer;">
                    <i class="fas fa-times"></i>
                </button>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, 5000);
        }

        // ====== LEGAL DOCUMENTS ======
        function showLegal(documentType) {
            const documents = {
                terms: `
                    TERMS OF SERVICE - NODINOPRO (PTY) LTD
                    
                    1. ACCEPTANCE OF TERMS
                    By accessing CareerBridge Pro, you agree to be bound by these Terms of Service.
                    
                    2. USER REGISTRATION
                    - Must be 18+ years old
                    - Provide accurate information
                    - Maintain account security
                    
                    3. NON-REFUNDABLE POLICY
                    ALL PAYMENTS ARE FINAL AND NON-REFUNDABLE.
                    No refunds for subscriptions, premium features, or services.
                    
                    4. DATA PROCESSING
                    We process data as per our Privacy Policy. By using our services, you consent to data processing.
                    
                    5. INTELLECTUAL PROPERTY
                    All content is copyright protected. Unauthorized use is prohibited.
                    
                    6. LIMITATION OF LIABILITY
                    Nodinopro (Pty) Ltd is not liable for job application outcomes or user interactions.
                    
                    Company Registration: [Your CoReg Number]
                    Effective Date: ${new Date().toLocaleDateString()}
                `,
                
                privacy: `
                    PRIVACY POLICY - NODINOPRO (PTY) LTD
                    
                    1. DATA COLLECTION
                    We collect:
                    - Account information
                    - Job search activity
                    - Usage analytics (with consent)
                    - Device information
                    
                    2. DATA USAGE
                    - Job matching
                    - Service improvement
                    - Market analytics
                    - Personalized recommendations
                    
                    3. DATA MONETIZATION
                    We may process aggregated, anonymized data for:
                    - Market research
                    - Industry reports
                    - Service improvement
                    
                    4. USER RIGHTS
                    - Access your data
                    - Correct inaccuracies
                    - Delete account
                    - Opt-out of data processing
                    
                    5. SECURITY
                    We implement industry-standard security measures.
                    
                    6. CONTACT
                    For data requests: privacy@careerbridgepro.co.za
                `,
                
                refund: `
                    NON-REFUNDABLE POLICY
                    
                    1. GENERAL POLICY
                    ALL PAYMENTS TO NODINOPRO (PTY) LTD ARE FINAL AND NON-REFUNDABLE.
                    
                    2. APPLICABILITY
                    This policy applies to:
                    - Premium subscriptions
                    - Job posting fees
                    - Premium features
                    - All services and products
                    
                    3. NO EXCEPTIONS
                    No refunds will be issued for:
                    - Change of mind
                    - Unused services
                    - Service dissatisfaction
                    - Account termination
                    
                    4. LEGAL BASIS
                    This policy is legally binding as per South African consumer law for registered business services.
                    
                    5. ACKNOWLEDGEMENT
                    By making any payment, you acknowledge and accept this non-refundable policy.
                `,
                
                about: `
                    ABOUT NODINOPRO (PTY) LTD
                    
                    Company: Nodinopro (Pty) Ltd
                    Registration: [Your Company Registration Number]
                    Trading as: CareerBridge Pro
                    
                    MISSION
                    To connect South African professionals with meaningful career opportunities through advanced technology.
                    
                    SERVICES
                    - Job matching platform
                    - Career development tools
                    - Professional networking
                    - Market intelligence
                    
                    CONTACT
                    Email: info@careerbridgepro.co.za
                    Phone: +27 11 234 5678
                    Address: [Your Business Address]
                `
            };
            
            alert(documents[documentType] || 'Document not available');
        }

        // ====== PWA FUNCTIONALITY ======
        function initializePWA() {
            let deferredPrompt;
            
            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                deferredPrompt = e;
                showInstallPrompt();
            });
            
            window.addEventListener('appinstalled', () => {
                showNotification('App installed successfully!', 'success');
            });
        }

        function showInstallPrompt() {
            // Show install button or banner
            setTimeout(() => {
                if (confirm('Install CareerBridge Pro as an app for better experience?')) {
                    installPWA();
                }
            }, 10000);
        }

        function installPWA() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('User accepted the install prompt');
                    }
                    deferredPrompt = null;
                });
            }
        }

        // ====== ADMIN FUNCTIONS ======
        function showAdminPanel() {
            const adminPanel = document.createElement('div');
            adminPanel.style.cssText = `
                position: fixed;
                top: 80px;
                right: 20px;
                background: var(--dark);
                color: white;
                padding: 20px;
                border-radius: 12px;
                z-index: 10000;
                max-width: 400px;
                box-shadow: var(--shadow-lg);
            `;
            
            adminPanel.innerHTML = `
                <h4 style="margin-bottom: 16px;"> Revenue Dashboard</h4>
                <div style="margin-bottom: 12px;">
                    <strong>Subscriptions:</strong> R${appState.revenue.subscriptions.toFixed(2)}
                </div>
                <div style="margin-bottom: 12px;">
                    <strong>Data Services:</strong> R${appState.revenue.dataServices.toFixed(2)}
                </div>
                <div style="margin-bottom: 12px;">
                    <strong>Total Revenue:</strong> R${appState.revenue.total.toFixed(2)}
                </div>
                <div style="margin-bottom: 16px;">
                    <strong>Active Users:</strong> ${Object.keys(localStorage).filter(k => k.includes('careerBridge')).length}
                </div>
                <button onclick="exportRevenueData()" class="btn btn-primary" style="width: 100%;">
                    Export Data
                </button>
                <button onclick="this.parentElement.remove()" class="btn btn-outline" style="width: 100%; margin-top: 8px; color: white; border-color: white;">
                    Close
                </button>
            `;
            
            document.body.appendChild(adminPanel);
        }

        function exportRevenueData() {
            const data = {
                revenue: appState.revenue,
                users: Object.keys(localStorage).filter(k => k.includes('careerBridge')).length,
                timestamp: new Date().toISOString(),
                company: 'Nodinopro (Pty) Ltd'
            };
            
            const dataStr = JSON.stringify(data, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `revenue-report-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
        }

        // ====== ADDITIONAL FEATURES ======
        function applyForJob(jobId) {
            if (!appState.currentUser) {
                showNotification('Please login to apply for jobs.', 'warning');
                openModal('loginModal');
                return;
            }
            
            const job = sampleJobs.find(j => j.id === jobId);
            showNotification(`Application submitted for ${job.title} at ${job.company}!`, 'success');
            
            // Track application
            trackUserEvent('job_application', {
                job_id: jobId,
                job_title: job.title,
                company: job.company
            });
        }

        function saveJob(jobId) {
            if (!appState.currentUser) {
                showNotification('Please login to save jobs.', 'warning');
                return;
            }
            
            const job = sampleJobs.find(j => j.id === jobId);
            showNotification(`Job saved: ${job.title}`, 'success');
            
            // Track save
            trackUserEvent('job_save', { job_id: jobId });
        }

        function loadMoreJobs() {
            // Simulate loading more jobs
            const moreJobs = [...sampleJobs, ...sampleJobs.map(j => ({...j, id: j.id + 10}))];
            appState.jobs = moreJobs;
            loadJobs();
            showNotification('More jobs loaded!', 'info');
        }

        function startAIAssistance() {
            const type = document.getElementById('aiAssistanceType').value;
            if (!type) {
                showNotification('Please select assistance type.', 'warning');
                return;
            }
            
            closeModal('aiAssistantModal');
            showNotification('AI analysis started. Results will be ready shortly.', 'info');
            
            // Simulate AI processing
            setTimeout(() => {
                showNotification('AI analysis complete! View your personalized report.', 'success');
                
                // Track AI usage
                trackAIUsage('career_assistance', { type });
            }, 3000);
        }

        // ====== SERVICE WORKER ======
        const serviceWorkerCode = `
        self.addEventListener('install', event => {
            event.waitUntil(
                caches.open('careerbridge-v1').then(cache => {
                    return cache.addAll([
                        '/',
                        '/index.html',
                        '/styles.css',
                        '/app.js',
                        '/icon-192.png',
                        '/icon-512.png'
                    ]);
                })
            );
        });
        
        self.addEventListener('fetch', event => {
            event.respondWith(
                caches.match(event.request).then(response => {
                    return response || fetch(event.request);
                })
            );
        });
        `;

        // Initialize service worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js').then(() => {
                console.log('Service Worker registered');
            }).catch(err => {
                console.log('Service Worker registration failed:', err);
            });
        }

        // Save state periodically
        setInterval(() => {
            localStorage.setItem('careerBridgeState', JSON.stringify(appState));
        }, 30000); // Every 30 seconds

        // Initial save
        localStorage.setItem('careerBridgeState', JSON.stringify(appState));
    </script>
<script src="consent-manager.js"></script>
<script>const consentManager = new ConsentManager();</script>
</body>
</html>

